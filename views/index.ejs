<html ng-app="econgraphsApp">
<head>
	<title><%= title %></title>
	<script src="lib/d3.v2.min.js"></script>
	<script src="lib/angular.min.js"></script>
	<link rel='stylesheet' href='/stylesheets/style.css' />
	<link rel='stylesheet' href='/stylesheets/bootstrap.min.css' />
	<script src="javascripts/graph_colors.js"></script>
	<script src="javascripts/market_supply_and_demand/graph_axes.js"></script>
	<script src="javascripts/market_supply_and_demand/supply_and_demand.js"></script>
	<script src="javascripts/market_supply_and_demand/price_indicator.js"></script>
	<script src="javascripts/market_supply_and_demand/quantity_indicators.js"></script>
	<script src="javascripts/controller.js"></script>
</head>
<body>
<div class="nav navbar navbar-inverse navbar-fixed-top" role="navigation">
	<div class="navbar-header navbar-brand">econgraphs.org</div>
</div>
<div class="container-fluid mainPage" ng-controller="Controller">
	<div class="row">
		<div class="col-md-9">
			<div class="row">
				<div class="col-md-6">
					<h4 class="text-center">Individual Demand</h4>
					<hr/>
					<div id="graph1"></div>
				</div>
				<div class="col-md-6">
					<h4 class="text-center">Market Supply and Demand</h4>
					<hr/>
					<div id="graph2"></div>
				</div>
			</div>
			<div>
				<p>At a price of ${{ price }} per unit, on average, each individual consumer will be willing and able to buy <i>q<sup>D</sup></i> = {{ quantityDemanded*1000/consumers | number : 1}} units.</p>
				<p>Since there are {{consumers | number:0}} consumers in the market, the total quantity demanded is <i>Q<sup>D</sup></i> = {{ quantityDemanded*1000/consumers | number : 1}} units per consumer x {{consumers | number:0}} consumers = {{ quantityDemanded*1000 | number : 0 }} units.</p>
				<p>At the same price, producers in this market supply <i>Q<sup>S</sup></i> = {{quantitySupplied*1000 | number:0}} units.</p>
					<p ng-if="(price < equilibriumPrice)">
					  	Therefore, this relatively low price results in a <b>shortage</b> (excess demand) of {{ (quantityDemanded - quantitySupplied)*1000 | number:0 }} units.
					</p>
					<p ng-if="(price > equilibriumPrice)">
					    Therefore, this relatively high price results in a <b>surplus</b> (excess supply) of {{ (quantitySupplied - quantityDemanded)*1000 | number:0 }} units.
					</p>
					<p ng-if="(price == equilibriumPrice)">
					    Because the quantity supplied {{ (quantityDemanded == quantitySupplied) ? "equals" : "is just about equal to" }} the quantity demanded in the market, competitive pressures are unlikely to drive the market price up or down; so we say the market is "in equilibrium."
					</p>
			</div>
		</div>
		
		<div class="col-md-3">
			<div class="well">
				<p class="form-inline">Price: ${{ price }} per unit<input type="range" min="10" max="90" step="1" ng-model="price"></p>
				<p>Number of consumers:  {{ consumers | number:0 }}<input type="range" min="2000" max="5000" step="50" ng-model="consumers"></p>
			</div>
			<div class="panel panel-default">
  				<div class="panel-heading">Do the math!</div>
  				<div class="panel-body">
  					<h5>Individual demand</h5>
    				<table class="equationTable">
    					<tr>
    						<td><i>q<sup>D</sup></i>(<i>P</i>)</td>
    						<td>=</td>
    						<td>20 - 0.2<i>P</i></td>
    					</tr>
    					<tr>
    						<td><i>q<sup>D</sup></i>({{ price }})</td>
    						<td>=</td>
    						<td>20 - 0.2({{ price }})</td>
    					</tr>
    					<tr>
    						<td></td>
    						<td>=</td>
    						<td>20 - {{ price*0.2 | number : 1 }}</td>
    					</tr>
    					<tr>
    						<td></td>
    						<td>=</td>
    						<td>{{ quantityDemanded*1000/consumers | number : 1}}</td>
    					</tr>
    					</table>
    					<h5>Market Demand</h5>
    					<table class="equationTable">
    					<tr>
    						<td><i>Q<sup>D</sup></i>(<i>P</i>)</td>
    						<td>=</td>
    						<td><i>N</i> x <i>q<sup>D</sup></i>(<i>P</i>)</td>
    					</tr>
    					<tr>
    						<td><i>Q<sup>D</sup></i>({{ price }})</td>
    						<td>=</td>
    						<td><i>N</i> x <i>q<sup>D</sup></i>({{ price }})</td>
    					</tr>
    					<tr>
    						<td></td>
    						<td>=</td>
    						<td>{{ consumers | number : 0}} x {{ quantityDemanded*1000/consumers | number : 1}}</td>
    					</tr>
    					<tr>
    						<td></td>
    						<td>=</td>
    						<td>{{ quantityDemanded*1000 | number : 0}}</td>
    					</tr></table>
    					<h5>Market Supply</h5>
    					<table class="equationTable">
    					<tr>
    						<td><i>Q<sup>S</sup></i>(<i>P</i>)</td>
    						<td>=</td>
    						<td>10,000 + 600<i>P</i></td>
    					</tr>
    					<tr>
    						<td><i>Q<sup>S</sup></i>({{ price }})</td>
    						<td>=</td>
    						<td>10,000 + 600({{ price }})</td>
    					</tr>
    					<tr>
    						<td></td>
    						<td>=</td>
    						<td>10,000 + {{ price*600 | number : 0 }}</td>
    					</tr>
    					<tr>
    						<td></td>
    						<td>=</td>
    						<td>{{ quantitySupplied*1000 | number : 0}}</td>
    					</tr>
    				</table>
  				</div>
			</div>
		</div>
	</div>
	
	
	

</div>
</body>
</html>